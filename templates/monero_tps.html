<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monero Current TPS - Crypto Privacy Watch</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>CRYPTO PRIVACY WATCH</h1>
            <nav>
                <a href="/">HOME</a>
                <a href="/monero-tps">MONERO TPS</a>
                <a href="#">COINS</a>
                <a href="#">COMPARE</a>
                <a href="#">RESOURCES</a>
                <a href="#">ABOUT</a>
            </nav>
        </header>

        <section class="hero">
            <h2>Monero Current TPS</h2>
        </section>

        <div id="monero-tps-display">
            <h3>Current Monero TPS: <span id="tps-value">Loading...</span></h3>
            <button onclick="getMoneroTPS()">Refresh TPS</button>
        </div>
    </div>
    <script>
        function getMoneroTPS() {
            document.getElementById('tps-value').textContent = 'Calculating...';
            fetch('/get-monero-tps')
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        document.getElementById('tps-value').textContent = 'Error: ' + data.error;
                    } else {
                        document.getElementById('tps-value').textContent = data.tps.toFixed(4);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('tps-value').textContent = 'Error: Unable to calculate TPS';
                });
        }
    
        // Initial TPS calculation
        getMoneroTPS();
    </script>
</body>
</html>